(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{370:function(e,a,t){e.exports=t(778)},375:function(e,a,t){},377:function(e,a,t){},383:function(e,a,t){},385:function(e,a,t){},445:function(e,a,t){},578:function(e,a,t){},580:function(e,a,t){},704:function(e,a,t){},778:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(17),o=t.n(i),c=(t(375),t(33)),l=t(34),s=t(36),u=t(35),d=t(37),m=(t(377),t(798),t(342)),p=t(314),f=t.n(p),h=(t(380),n.Component,t(25)),b=t(53),g=t(40),y=(t(383),t(50)),v=t.n(y),E=t(76),j=t(58),O=(t(385),t(227)),D=t(782),k=function(e){var a=e.title,t=e.canRemove,n=e.remove,i=e.reason,o=e.children,c=Object(j.a)(e,["title","canRemove","remove","reason","children"]);return r.a.createElement(O.a,{placement:"top",arrowPointAtCenter:!0,title:t?n:i},t?r.a.createElement(D.a,Object.assign({placement:"top",title:r.a.createElement("div",{className:"PopConfirm"},a),okText:"Tak",cancelText:"Nie"},c),o):o)},x=t(63),w=t.n(x),C=t(90),A=t(27),z=t.n(A),S=function(e){for(var a=e.from,t=void 0===a?10:a,n=e.to,r=void 0===n?15:n,i=e.wavePeriod,o=void 0===i?1:i,c=e.waveScale,l=void 0===c?0:c,s=e.rand,u=void 0===s?.2:s,d=e.dataSets,m=void 0===d?50:d,p=(e.dataSetBegin,e.dataSetEnd,[]),f=0;f<m;f++){var h=t+(r-t)*f/(m-1)+Math.sin(f/(m-1)*2*Math.PI/o)*l+u*Math.random();p.push(h.toFixed(2))}return p},N={outside_temperature:function(){return S({from:-3,to:10,wavePeriod:.5,waveScale:5,rand:.5})},inside_temperature:function(){return S({from:18,to:20,wavePeriod:6,waveScale:.5,rand:.2})},hot_water:function(){return S({from:3667,to:4223,rand:8})},electricity:function(){return S({from:4567.23,to:4644.89,rand:.8})}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,a=function(e){for(var a=e.dataSets,t=void 0===a?50:a,n=(e.dataSetBegin,e.dataSetEnd,[]),r=z()("2019-03-22"),i=0;i<t;i++)n.push({time:r.format("x")}),r.add(1,"hours");return n}({});return Object.keys(e).forEach(function(t){e[t]().forEach(function(e,n){a[n][t]=e})}),a},T=(t(445),t(788)),I=function(e,a){var t=e.file,n=e.onSuccess,r=e.onError;setTimeout(function(){!a||a(t)?n("ok"):r("bad")},0)},P=Object.assign(function(e){var a=e.validator,t=Object(j.a)(e,["validator"]);return r.a.createElement(T.a,Object.assign({customRequest:function(e){return I(e,a)}},t))},{Dragger:function(e){var a=e.validator,t=Object(j.a)(e,["validator"]);return r.a.createElement(T.a.Dragger,Object.assign({customRequest:function(e){return I(e,a)}},t))}}),L=t(789),M=t(790),R=t(787),W=t(795),V=t(783),q=t(784),U=t(5),K=t(796),_=t(786),B=t(793),Y=t(313),X=L.a.Option,Z=M.a.TabPane,H=R.a.WeekPicker,J=R.a.MonthPicker,G=R.a.RangePicker;function Q(e){return new Promise(function(a){return setTimeout(a,e)})}var $=function(e){return Object(y.filter)(e,function(e){return"all"!==e})},ee=function(e){return Object(y.filter)(e,function(e){return"done"===e.status})},ae=function(e){return z()().isBefore(e)},te={day:{description:"Dzienne",default:z()().subtract(1,"day"),label:"Wyb\xf3r dnia",name:"date-picker",rules:[{required:!0,message:"Wybierz warto\u015b\u0107",type:"object"}],element:function(e){var a=Object(E.a)({},e);return r.a.createElement(R.a,Object.assign({disabledDate:ae},a))},formatter:function(e){return{from:e.startOf("day").format(),to:e.endOf("day").format()}}},week:{description:"Tygodniowe",default:z()().subtract(1,"week"),label:"Wyb\xf3r tygodnia",name:"week-picker",rules:[{required:!0,message:"Wybierz warto\u015b\u0107",type:"object"}],element:function(e){var a=Object(E.a)({},e);return r.a.createElement(H,Object.assign({disabledDate:ae,format:"WW. [tydzie\u0144] YYYY"},a))},formatter:function(e){return{from:e.startOf("week").format(),to:e.endOf("week").format()}}},month:{description:"Miesi\u0119czne",default:z()().subtract(1,"month"),label:"Wyb\xf3r miesi\u0105ca",name:"month-picker",rules:[{required:!0,message:"Wybierz warto\u015b\u0107",type:"object"}],element:function(e){var a=Object(E.a)({},e);return r.a.createElement(J,Object.assign({disabledDate:ae},a))},formatter:function(e){return{from:e.startOf("month").format(),to:e.endOf("month").format()}}},userDefined:{description:"Inny zakres",default:[z()().subtract(1,"months"),z()()],label:"Wyb\xf3r zakresu dni",name:"range-picker",rules:[{required:!0,message:"Wybierz warto\u015b\u0107",type:"array"}],element:function(e){var a=Object(E.a)({},e);return r.a.createElement(G,Object.assign({disabledDate:ae},a))},formatter:function(e){return{from:e[0].startOf("day").format(),to:e[0].endOf("day").format()}}}},ne=function(e){function a(){return Object(c.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(L.a,Object.assign({placeholder:"Rodzaj zakresu danych"},this.props),Object.keys(te).map(function(e){return r.a.createElement(X,{key:e,value:e},te[e].description)}))}}]),a}(n.Component),re=function(e){function a(){return Object(c.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props,a=e.possibleData,t=Object(j.a)(e,["possibleData"]);return r.a.createElement(W.a.Group,Object.assign({style:{width:"100%"}},t),r.a.createElement(V.a,null,r.a.createElement(q.a,{span:24},r.a.createElement(W.a,{value:"all"},"Wybierz wszystkie"))),r.a.createElement(V.a,null,a.map(function(e){return r.a.createElement(q.a,{key:e.key,span:8},r.a.createElement(W.a,{value:e.key},e.description))})))}}]),a}(n.Component),ie=function(e){function a(){return Object(c.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props,a=e.onChange,t=e.disabled;return r.a.createElement(P.Dragger,{accept:".txt,.csv,.xls,.xlsx",name:"files",onChange:a,disabled:t},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(U.a,{type:"inbox"})),r.a.createElement("p",{className:"ant-upload-text"},"Kliknij lub przeci\u0105gnij plik z danymi"),r.a.createElement("p",{className:"ant-upload-hint"},"Wspiera przes\u0142anie pojedynczego pliku."))}}]),a}(n.Component),oe=function(e){function a(){return Object(c.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.fileList;return r.a.createElement(P,{showUploadList:{showRemoveIcon:!1},defaultFileList:e.fileList,disabled:!0})}}]),a}(n.PureComponent),ce=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={possibleData:t.props.possibleData||[],uploadedFiles:0},t.onUploadChange=function(e){"done"===e.file.status?K.a.success("".concat(e.file.name," - Plik zosta\u0142 za\u0142adowany poprawnie")):"error"===e.file.status&&K.a.error("".concat(e.file.name," - Nie uda\u0142o si\u0119 za\u0142adowa\u0107 pliku.")),t.setState({uploadedFiles:ee(e.fileList)})},t.changeDataSource=function(e){t.props.form.setFieldsValue({dataSource:e})},t.loadDataFromApi=function(){var e=Object(C.a)(w.a.mark(function e(a){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(2e3);case 2:return t={},a.measurements.forEach(function(e){t[e]=function(){return S({from:10+14*Math.random(),to:20+6*Math.random(),waveScale:.3*Math.random()})}}),e.abrupt("return",F(t));case 5:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.getFieldsFromFlow=function(){var e=[],a=[];if(e.push("description"),e.push("dataSource"),"db"===t.props.form.getFieldValue("dataSource")){var n=t.props.form.getFieldValue("selectPeriod");e.push("selectPeriod"),e.push(te[n].name),a.push({name:te[n].name,formatter:te[n].formatter}),e.push("measurements"),a.push({name:"measurements",formatter:$})}else e.push("dropbox"),a.push({name:"dropbox",formatter:function(e){return ee(e.fileList)}}),e.push("saveOnDB"),a.push({name:"saveOnDB",formatter:function(e){return Boolean(e)}});return{requiredFields:e,formattedFields:a}},t.getRequiredFields=function(e){return e.reduce(function(e,a){return Object(h.a)({},e,Object(g.a)({},a,{value:t.props.form.getFieldValue(a)}))},{})},t.handleSubmit=function(){var e=Object(C.a)(w.a.mark(function e(a){var n,r,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),n=t.getFieldsFromFlow(),r=n.requiredFields,i=n.formattedFields,t.props.form.validateFields(r,{},function(){var e=Object(C.a)(w.a.mark(function e(a,n){var o,c,l;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return");case 2:if(o=Object(h.a)({},n),i.forEach(function(e){n[e.name]=e.formatter(n[e.name])}),"edit"!==t.props.mode){e.next=7;break}e.next=19;break;case 7:if("db"!==o.dataSource){e.next=13;break}return e.next=10,t.loadDataFromApi(n);case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0={};case 14:c=e.t0,l="db"===o.dataSource?Object(y.filter)(t.state.possibleData,function(e){return o.measurements.includes(e.key)}):[],t.props.loadData({fields:t.getRequiredFields(r),data:c,possibleData:t.state.possibleData,loadedKeys:l}),t.handleReset(),t.props.onClose();case 19:return e.abrupt("return");case 20:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.loadPossibleData=Object(C.a)(w.a.mark(function e(){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(1e3);case 2:a=[{key:"temperature",description:"Temperatura"},{key:"co2",description:"CO2"},{key:"humidity",description:"Wilgotno\u015b\u0107"}],t.setState({possibleData:a,checkedList:["all"].concat(Object(b.a)(a.map(function(e){return e.key})))});case 4:case"end":return e.stop()}},e)})),t.normalizeCheckBox=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];if(e.indexOf("all")>=0&&a.indexOf("all")<0)return["all"].concat(Object(b.a)(t.state.possibleData.map(function(e){return e.key})));if(e.indexOf("all")<0&&a.indexOf("all")>=0)return[];var n=$(e);return n.length!==t.state.possibleData.length?n:["all"].concat(Object(b.a)(t.state.possibleData.map(function(e){return e.key})))},t.handleReset=function(){t.props.form.resetFields()},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){console.log("did mount",this.props,this.state),"load"===this.props.mode&&this.loadPossibleData()}},{key:"render",value:function(){var e=this.props.form,a=e.getFieldDecorator,t=e.getFieldValue,n=t("selectPeriod")||"month",i="edit"===this.props.mode;return r.a.createElement(_.a,{layout:"vertical",onSubmit:this.handleSubmit,hideRequiredMark:!0,style:{height:"100%",display:"flex",flexDirection:"column"}},r.a.createElement("div",{className:"LoadDataDialogInner"},r.a.createElement(_.a.Item,{label:"Nazwa zestawu"},a("description",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Prosz\u0119 poda\u0107 nazw\u0119 zestawu"},{message:"Wymagana nazwa o d\u0142ugo\u015bci od 3 do 30 znak\xf3w",whitespace:!0,min:3,max:30}]})(r.a.createElement(B.a,{placeholder:"Nazwa zestawu danych"}))),r.a.createElement(_.a.Item,{label:"\u0179r\xf3d\u0142o danych"},a("dataSource",{valuePropName:"activeKey",initialValue:"db"})(r.a.createElement(M.a,{onChange:this.changeDataSource},r.a.createElement(Z,{tab:r.a.createElement("span",null,r.a.createElement(U.a,{type:"database"}),"Pobierz z bazy danych"),key:"db",disabled:i&&"db"!==t("dataSource")},r.a.createElement(_.a.Item,{label:"Rodzaj zakresu danych"},a("selectPeriod",{validateTrigger:["onChange"],rules:[{required:!0,message:"Wybierz rodzaj zakresu czasu"}],initialValue:"month"})(r.a.createElement(ne,{disabled:i}))),r.a.createElement(_.a.Item,{label:te[n].label},a(te[n].name,{validateTrigger:["onChange"],rules:te[n].rules,initialValue:te[n].default})(te[n].element({disabled:i}))),this.state.possibleData.length>0&&r.a.createElement(_.a.Item,{label:"Pobierane pomiary"},a("measurements",{initialValue:this.state.checkedList,normalize:this.normalizeCheckBox,rules:[{validator:function(e,a,t){return 0===$(a).length?t(e.message):t()},message:"Potrzebny minimum jeden pomiar do pobrania"}]})(r.a.createElement(re,{possibleData:this.state.possibleData})))),r.a.createElement(Z,{tab:r.a.createElement("span",null,r.a.createElement(U.a,{type:"upload"}),"Wgraj z pliku"),key:"file",disabled:i&&"file"!==t("dataSource")},r.a.createElement(_.a.Item,{label:"Wczytaj plik"},r.a.createElement("div",{className:"dropbox"},a("dropbox",{valuePropName:"fileList",getValueFromEvent:this.normFile,rules:[{validator:function(e,a,t){return 1!==ee(a?a.fileList:[]).length?t(e.message):t()},message:"Potrzebny poprawny plik do za\u0142adowania"}]})(i?r.a.createElement(oe,null):r.a.createElement(ie,{onChange:this.onUploadChange,disabled:this.state.uploadedFiles>0})))),r.a.createElement(_.a.Item,null,a("saveOnDB",{valuePropName:"checked"})(r.a.createElement(W.a,null,"Zapisz w bazie danych")))))))),r.a.createElement("div",{className:"LoadDataDialogSubmit"},!i&&r.a.createElement(Y.a,{onClick:this.handleReset,style:{marginRight:16}},"Zresetuj"),r.a.createElement(Y.a,{type:"primary",icon:i?"redo":"plus",htmlType:"submit",disabled:!(this.state.possibleData.length>0)},i?"Aktualizuj":"Dodaj dane")))}}]),a}(n.Component),le={description:[function(e){return e.length>=3},function(e){return e.length<=30}],measurements:[function(e){return 0!==$(e).length}]},se=function(e){return Object.keys(e).reduce(function(a,t){return a&&function(e,a){return!le[e]||le[e].reduce(function(e,t){return e&&t(a)},!0)}(t,e[t].value)},!0)},ue=_.a.create({name:"load_data_form"})(ce),de=_.a.create({name:"edit_data_form",onFieldsChange:function(e,a){if(!se(a))return console.warn("Form not valid, abort update");e.onChange(a)},mapPropsToFields:function(e){return Object.keys(e.editedData).reduce(function(a,t){return Object(h.a)({},a,Object(g.a)({},t,_.a.createFormField(Object(h.a)({},e.editedData[t]))))},{})}})(ce),me=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).onUpdateFields=function(e){var a=t.props,n=a.editedData,r=a.updateData;e!==n.fields&&(console.log(Object(h.a)({},n,{fields:Object(h.a)({},n.fields,e)})),r(Object(h.a)({},n,{fields:Object(h.a)({},n.fields,e)})))},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props,a=e.mode,t=e.editedData,n=e.onClose,i=e.loadData,o=e.updateData;return r.a.createElement("div",{className:"LoadDataDialog"},"edit"===a?r.a.createElement(de,{mode:"edit",onClose:n,updateData:o,editedData:t.fields,possibleData:t.possibleData,onChange:this.onUpdateFields}):r.a.createElement(ue,{mode:"load",onClose:n,loadData:i}))}}]),a}(n.Component),pe=Object.freeze({EDIT:"edit",LOAD:"load"}),fe=function(e){return e.split("-")[0]},he=t(797),be=function(e){var a=Object(E.a)({},e);return r.a.createElement("div",Object.assign({className:"MiddleWrapper"},a))},ge=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={openedDialogLoad:!1,openedDialogEdit:!1,editedData:null},t.onCloseDialogLoad=function(){t.setState({openedDialogLoad:!1})},t.onCloseDialogEdit=function(){t.setState({openedDialogEdit:!1,editedData:null})},t.openDialogLoad=function(){t.setState({openedDialogLoad:!0})},t.openDialogEdit=function(e){t.setState({openedDialogEdit:!0,editedData:e})},t.newIndex=function(){return Object.keys(t.props.data).reduce(function(e,a){return Math.max(e,a)},-1)+1},t.loadData=function(e){var a=t.props,n=a.data;(0,a.update)(Object(h.a)({},n,Object(g.a)({},t.newIndex(),e)))},t.canRemove=function(e){return!Object(y.find)(Object.keys(t.props.usedData),function(a){return fe(t.props.usedData[a].fields.dataSource.value)===e})},t.removeData=function(e){var a=t.props,n=a.data,r=a.update,i=Object(h.a)({},n);delete i[e],r(i)},t.updateData=function(e,a){var n=t.props,r=n.data;(0,n.update)(Object(h.a)({},r,Object(g.a)({},e,a)))},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this,a=this.props.data;return r.a.createElement("div",{className:"LoadData"},Object.keys(a).map(function(t){return r.a.createElement(V.a,{type:"flex",align:"middle",key:t},r.a.createElement(q.a,{span:16},a[t].fields.description.value),r.a.createElement(q.a,{span:4},r.a.createElement(be,null,r.a.createElement(O.a,{placement:"top",title:"Ustawienia"},r.a.createElement(Y.a,{shape:"circle",icon:"setting",onClick:function(){return e.openDialogEdit(t)}})))),r.a.createElement(q.a,{span:4},r.a.createElement(be,null,r.a.createElement(k,{title:"Czy chcesz usun\u0105\u0107 za\u0142adowane dane?",remove:"Usu\u0144 za\u0142adowane dane",canRemove:e.canRemove(t),reason:"Nie mo\u017cna usun\u0105\u0107, dane s\u0105 w u\u017cyciu.",onConfirm:function(){return e.removeData(t)}},r.a.createElement(Y.a,{disabled:!e.canRemove(t),shape:"circle",icon:"delete"})))))}),r.a.createElement(V.a,{type:"flex",align:"middle"},r.a.createElement(q.a,{span:16},"Nowy zestaw danych"),r.a.createElement(q.a,{span:4}),r.a.createElement(q.a,{span:4},r.a.createElement(be,null,r.a.createElement(O.a,{placement:"bottom",title:"Dodaj zestaw danych"},r.a.createElement(Y.a,{type:"primary",shape:"circle",icon:"plus",onClick:this.openDialogLoad}))))),r.a.createElement(he.a,{title:"Dodaj nowy zestaw danych",placement:"left",onClose:this.onCloseDialogLoad,visible:this.state.openedDialogLoad,width:480,bodyStyle:{flex:1}},r.a.createElement(me,{mode:"load",onClose:this.onCloseDialogLoad,loadData:this.loadData})),null!==this.state.editedData&&r.a.createElement(he.a,{title:"Edycja zestawu danych",placement:"left",onClose:this.onCloseDialogEdit,visible:this.state.openedDialogEdit,width:480,bodyStyle:{flex:1}},r.a.createElement(me,{mode:"edit",onClose:this.onCloseDialogEdit,editedData:a[this.state.editedData],updateData:function(a){return e.updateData(e.state.editedData,a)}})))}}]),a}(n.Component),ye=(t(578),L.a.Option),ve=[{description:"Czarny",color:"black"},{description:"Niebieski",color:"blue"},{description:"Czerwony",color:"red"}],Ee=function(e){function a(){return Object(c.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(L.a,Object.assign({placeholder:"Kolor linii"},this.props),ve.map(function(e,a){return r.a.createElement(ye,{key:a,value:e.color},r.a.createElement("div",null,r.a.createElement("div",{className:"ColorSelectColor",style:{background:e.color}}),r.a.createElement("span",null,e.description)))}))}}]),a}(n.Component),je=(t(580),function(e){var a=e.visible,t=Object(j.a)(e,["visible"]);return r.a.createElement("div",Object.assign({className:a?"Visible":"Hidden"},t))}),Oe=t(785),De=t(794),ke=L.a.Option,xe=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).genTreeData=function(){var e=t.props.loadedData;return Object.keys(e).map(function(a){return{title:e[a].fields.description.value,value:"".concat(a),selectable:!1,key:"".concat(a),children:e[a].loadedKeys.map(function(t){return{title:"".concat(e[a].fields.description.value,": ").concat(t.description),value:"".concat(a,"-").concat(t.key),key:"".concat(a,"-").concat(t.key)}})}})},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(Oe.a,Object.assign({dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:this.genTreeData(),placeholder:"Wybierz za\u0142adowane dane",treeDefaultExpandAll:!0},this.props))}}]),a}(n.Component),we=function(e){function a(){return Object(c.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.data;return r.a.createElement(L.a,this.props,e.map(function(e){var a=e.id,t=e.description;return r.a.createElement(ke,{key:a,value:a},t)}))}}]),a}(n.Component),Ce=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).handleSubmit=function(){var e=Object(C.a)(w.a.mark(function e(a){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t.props.form.validateFields(function(e,a){e||("edit"===t.props.mode?t.props.onClose():(t.props.loadData({fields:Object.keys(a).reduce(function(e,t){return Object(h.a)({},e,Object(g.a)({},t,{value:a[t]}))},{})}),t.handleReset(),t.props.onClose()))});case 2:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.handleReset=function(){t.props.form.resetFields()},t.handleAxisData=function(){var e=t.props.config;console.log("handleAxisData",t.props);var a=Object.keys(e.yAxises).map(function(a){return{id:a,description:e.yAxises[a].description.value}});return{axisData:a,defaultAxisData:a[0].id}},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.form,a=e.getFieldDecorator,t=e.getFieldValue,n="edit"===this.props.mode,i=this.handleAxisData(),o=i.axisData,c=i.defaultAxisData;return r.a.createElement(_.a,{layout:"vertical",onSubmit:this.handleSubmit,hideRequiredMark:!0,style:{height:"100%",display:"flex",flexDirection:"column"}},r.a.createElement("div",{className:"LoadDataDialogInner"},r.a.createElement(_.a.Item,{label:"Opis danych"},a("description",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Prosz\u0119 poda\u0107 opis zestawu"},{message:"Wymagana nazwa o d\u0142ugo\u015bci od 3 do 30 znak\xf3w",whitespace:!0,min:3,max:30}]})(r.a.createElement(B.a,{placeholder:"Nazwa zestawu danych"}))),r.a.createElement(_.a.Item,{label:"Wyb\xf3r danych"},a("dataSource",{rules:[{required:!0,message:"Prosz\u0119 wybra\u0107 za\u0142adowane dane"}]})(r.a.createElement(xe,{loadedData:this.props.loadedData}))),r.a.createElement(_.a.Item,{label:"O\u015b odniesienia"},a("axis",{validateTrigger:["onChange"],rules:[{required:!0,message:"Wybierz rodzaj zakresu czasu"}],initialValue:c})(r.a.createElement(we,{data:o}))),r.a.createElement(_.a.Item,null,a("showRegresion",{initialValue:!1,valuePropName:"checked"})(r.a.createElement(W.a,null,"Poka\u017c lini\u0119 regresji"))),r.a.createElement(V.a,{gutter:24},r.a.createElement(q.a,{span:12},r.a.createElement(_.a.Item,{label:"Grubo\u015b\u0107 linii"},a("lineWidth",{initialValue:2,rules:[{required:!0,type:"number",min:1,max:6,message:"Wybierz liczb\u0119 z zakresu od 1 do 6"}]})(r.a.createElement(De.a,{className:"AutoInputNumber",min:1,max:6,step:1,precision:0})))),r.a.createElement(q.a,{span:12},r.a.createElement(_.a.Item,{label:"Kolor linii"},a("lineColor",{initialValue:"black",rules:[{required:!0,message:"Wybierz kolor linii"}]})(r.a.createElement(Ee,null))))),r.a.createElement(_.a.Item,null,a("dashed",{initialValue:!1,valuePropName:"checked"})(r.a.createElement(W.a,null,"U\u017cyj przerywanej linii"))),r.a.createElement(je,{visible:t("dashed")},r.a.createElement(V.a,{gutter:24},r.a.createElement(q.a,{span:12},r.a.createElement(_.a.Item,{label:"D\u0142ugo\u015b\u0107 kreski"},a("dashLength",{initialValue:5,rules:[{required:!0,type:"number",min:4,max:15,message:"Wybierz liczb\u0119 z zakresu od 4 do 15"}]})(r.a.createElement(De.a,{className:"AutoInputNumber",min:4,max:15,step:1,precision:0})))),r.a.createElement(q.a,{span:12},r.a.createElement(_.a.Item,{label:"D\u0142ugo\u015b\u0107 przerwy"},a("dashSpacing",{initialValue:5,rules:[{required:!0,type:"number",min:4,max:15,message:"Wybierz liczb\u0119 z zakresu od 4 do 15"}]})(r.a.createElement(De.a,{className:"AutoInputNumber",min:4,max:15,step:1,precision:0}))))))),r.a.createElement("div",{className:"LoadDataDialogSubmit"},!n&&r.a.createElement(Y.a,{onClick:this.handleReset,style:{marginRight:16}},"Zresetuj"),r.a.createElement(Y.a,{type:"primary",icon:n?"redo":"plus",htmlType:"submit"},n?"Aktualizuj":"Dodaj dane")))}}]),a}(n.Component),Ae={description:[function(e){return e.length>=3},function(e){return e.length<=30}],lineWidth:[function(e){return e>=1},function(e){return e<=6}],dashLength:[function(e){return e>=4},function(e){return e<=15}],dashSpacing:[function(e){return e>=4},function(e){return e<=15}]},ze=function(e){return Object.keys(e).reduce(function(a,t){return a&&function(e,a){return!Ae[e]||Ae[e].reduce(function(e,t){return e&&t(a)},!0)}(t,e[t].value)},!0)},Se=_.a.create({name:"use_data_form"})(Ce),Ne=_.a.create({name:"edit_use_data_form",onFieldsChange:function(e,a){if(!ze(a))return console.warn("Form not valid, abort update");e.onChange(a)},mapPropsToFields:function(e){return Object.keys(e.editedData).reduce(function(a,t){return Object(h.a)({},a,Object(g.a)({},t,_.a.createFormField(Object(h.a)({},e.editedData[t]))))},{})}})(Ce),Fe=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).onUpdateFields=function(e){var a=t.props,n=a.editedData,r=a.updateData;e!==n.fields&&(console.log(Object(h.a)({},n,{fields:Object(h.a)({},n.fields,e)})),r(Object(h.a)({},n,{fields:Object(h.a)({},n.fields,e)})))},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props,a=e.mode,t=e.editedData,n=e.loadedData,i=e.onClose,o=e.loadData,c=e.config,l=e.updateData;return r.a.createElement("div",{className:"LoadDataDialog"},"edit"===a?r.a.createElement(Ne,{mode:"edit",onClose:i,updateData:l,editedData:t.fields,loadedData:n,config:c,onChange:this.onUpdateFields}):r.a.createElement(Se,{mode:"load",onClose:i,config:c,loadData:o,loadedData:n}))}}]),a}(n.Component),Te=function(e){var a=Object(E.a)({},e);return r.a.createElement("div",Object.assign({className:"MiddleWrapper"},a))},Ie=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={openedDialogLoad:!1,openedDialogEdit:!1,editedData:null},t.onCloseDialogLoad=function(){t.setState({openedDialogLoad:!1})},t.onCloseDialogEdit=function(){t.setState({openedDialogEdit:!1,editedData:null})},t.openDialogLoad=function(){t.setState({openedDialogLoad:!0})},t.openDialogEdit=function(e){t.setState({openedDialogEdit:!0,editedData:e})},t.newIndex=function(){return Object.keys(t.props.data).reduce(function(e,a){return Math.max(e,a)},-1)+1},t.loadData=function(e){var a=t.props,n=a.data;(0,a.update)(Object(h.a)({},n,Object(g.a)({},t.newIndex(),e)))},t.removeData=function(e){var a=t.props,n=a.data,r=a.update,i=Object(h.a)({},n);delete i[e],r(i)},t.updateData=function(e,a){var n=t.props,r=n.data;(0,n.update)(Object(h.a)({},r,Object(g.a)({},e,a)))},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.data,n=a.loadedData,i=a.config;return r.a.createElement("div",{className:"LoadData"},Object.keys(t).map(function(a){return r.a.createElement(V.a,{type:"flex",align:"middle",key:a},r.a.createElement(q.a,{span:16},t[a].fields.description.value),r.a.createElement(q.a,{span:4},r.a.createElement(Te,null,r.a.createElement(O.a,{placement:"top",title:"Ustawienia"},r.a.createElement(Y.a,{shape:"circle",icon:"setting",onClick:function(){return e.openDialogEdit(a)}})))),r.a.createElement(q.a,{span:4},r.a.createElement(Te,null,r.a.createElement(k,{title:"Usu\u0144 dane z wykresu",remove:"Usu\u0144 z wykresu",canRemove:!0,onConfirm:function(){return e.removeData(a)}},r.a.createElement(Y.a,{shape:"circle",icon:"delete"})))))}),r.a.createElement(V.a,{type:"flex",align:"middle"},r.a.createElement(q.a,{span:16},"Nowe dane na wykresie"),r.a.createElement(q.a,{span:4}),r.a.createElement(q.a,{span:4},r.a.createElement(Te,null,r.a.createElement(O.a,{placement:"bottom",title:"Dodaj dane do wykresu"},r.a.createElement(Y.a,{type:"primary",shape:"circle",icon:"plus",onClick:this.openDialogLoad}))))),r.a.createElement(he.a,{title:"Dodaj nowe dane do wykresu",placement:"left",onClose:this.onCloseDialogLoad,visible:this.state.openedDialogLoad,width:480,bodyStyle:{flex:1}},r.a.createElement(Fe,{mode:"load",config:i,onClose:this.onCloseDialogLoad,loadData:this.loadData,loadedData:n})),null!==this.state.editedData&&r.a.createElement(he.a,{title:"Edycja wy\u015bwietlanych danych",placement:"left",onClose:this.onCloseDialogEdit,visible:this.state.openedDialogEdit,width:480,bodyStyle:{flex:1}},r.a.createElement(Fe,{mode:"edit",onClose:this.onCloseDialogEdit,editedData:t[this.state.editedData],loadedData:n,config:i,updateData:function(a){return e.updateData(e.state.editedData,a)}})))}}]),a}(n.Component),Pe=L.a.Option,Le=function(e){function a(){return Object(c.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(L.a,Object.assign({placeholder:"Pozycja na wykresie"},this.props),r.a.createElement(Pe,{key:"left",value:"left"},"Po lewej stronie"),r.a.createElement(Pe,{key:"right",value:"right"},"Po prawej stronie"))}}]),a}(n.Component),Me=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).handleReset=function(){t.props.form.resetFields()},t.handleSubmit=function(){var e=Object(C.a)(w.a.mark(function e(a){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t.props.form.validateFields(function(e,a){var n;e||(n={},Object(g.a)(n,pe.LOAD,function(){t.props.loadData(Object.keys(a).reduce(function(e,t){return Object(h.a)({},e,Object(g.a)({},t,{value:a[t]}))},{})),t.handleReset(),t.props.onClose()}),Object(g.a)(n,pe.EDIT,function(){t.props.onClose()}),n)[t.props.mode]()});case 2:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e,a=this.props.form.getFieldDecorator;return r.a.createElement(_.a,{layout:"vertical",onSubmit:this.handleSubmit,hideRequiredMark:!0,style:{height:"100%",display:"flex",flexDirection:"column"}},r.a.createElement("div",{className:"LoadDataDialogInner"},r.a.createElement(_.a.Item,null,a("showAxis",{initialValue:!0,valuePropName:"checked"})(r.a.createElement(W.a,null,"Poka\u017c o\u015b na wykresie"))),r.a.createElement(_.a.Item,{label:"Opis osi"},a("description",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Prosz\u0119 poda\u0107 nazw\u0119 osi, kt\xf3ra pozwoli na identyfikacj\u0119"},{message:"Wymagana nazwa o d\u0142ugo\u015bci od 2 do 20 znak\xf3w",whitespace:!0,min:2,max:20}]})(r.a.createElement(B.a,{placeholder:"Opis osi"}))),r.a.createElement(_.a.Item,null,a("showDescription",{initialValue:!0,valuePropName:"checked"})(r.a.createElement(W.a,null,"Poka\u017c nazw\u0119 osi na wykresie"))),r.a.createElement(_.a.Item,{label:"Jednostka"},a("unit",{initialValue:"",rules:[{message:"Maksymalna d\u0142ugo\u015b\u0107 to 10 znak\xf3w",whitespace:!0,max:10}]})(r.a.createElement(B.a,{placeholder:"Jednostka"}))),r.a.createElement(V.a,{gutter:24},r.a.createElement(q.a,{span:12},r.a.createElement(_.a.Item,{label:"Miejsce wy\u015bwietlania"},a("side",{rules:[{required:!0,message:"Wybierz miejsce wy\u015bwietlania"}],initialValue:"left"})(r.a.createElement(Le,null)))),r.a.createElement(q.a,{span:12},r.a.createElement(_.a.Item,{label:"Kolor osi"},a("color",{validateTrigger:["onChange"],rules:[{required:!0,message:"Wybierz kolor osi"}],initialValue:"black"})(r.a.createElement(Ee,null))))),r.a.createElement(_.a.Item,{label:"Zarz\u0105dzanie zakresem danych",help:"Aby ustawi\u0107 automatyczne wyliczanie, wpisz auto"},r.a.createElement(V.a,{gutter:24},r.a.createElement(q.a,{span:12},r.a.createElement(_.a.Item,{label:"Od"},a("rangeFrom",{initialValue:"auto",rules:[{required:!0,message:"Prosz\u0119 poda\u0107 pocz\u0105tek zakresu"}]})(r.a.createElement(B.a,{placeholder:"Pocz\u0105tek zakresu"})))),r.a.createElement(q.a,{span:12},r.a.createElement(_.a.Item,{label:"Do"},a("rangeTo",{initialValue:"auto",rules:[{required:!0,message:"Prosz\u0119 poda\u0107 koniec zakresu"}]})(r.a.createElement(B.a,{placeholder:"Pocz\u0105tek zakresu"})))),r.a.createElement(q.a,{span:12},r.a.createElement(_.a.Item,{label:"Krok"},a("rangeSpan",{initialValue:"auto",rules:[{required:!0,message:"Prosz\u0119 poda\u0107 krok pomi\u0119dzy punktami odniesienia"}]})(r.a.createElement(B.a,{placeholder:"Krok"}))))))),r.a.createElement("div",{className:"LoadDataDialogSubmit"},(e={},Object(g.a)(e,pe.LOAD,r.a.createElement(n.Fragment,null,r.a.createElement(Y.a,{className:"ResetFormButton",onClick:this.handleReset},"Zresetuj"),r.a.createElement(Y.a,{type:"primary",icon:"plus",htmlType:"submit"},"Dodaj"))),Object(g.a)(e,pe.EDIT,r.a.createElement(Y.a,{type:"primary",icon:"redo",htmlType:"submit"},"Aktualizuj")),e)[this.props.mode]))}}]),a}(n.Component),Re={description:[function(e){return e.length>=2},function(e){return e.length<=20}],unit:[function(e){return e.length<=10}]},We=function(e){return Object.keys(e).reduce(function(a,t){return a&&function(e,a){return!Re[e]||Re[e].reduce(function(e,t){return e&&t(a)},!0)}(t,e[t].value)},!0)},Ve=_.a.create({name:"edit_axis_form",onFieldsChange:function(e,a){if(!We(a))return console.warn("Form not valid, abort update");e.onChange(a)},mapPropsToFields:function(e){return Object.keys(e.editedAxis).reduce(function(a,t){return Object(h.a)({},a,Object(g.a)({},t,_.a.createFormField(Object(h.a)({},e.editedAxis[t]))))},{})}})(Me),qe=_.a.create({name:"load_axis_form"})(Me),Ue=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).onUpdateFields=function(e){var a=t.props,n=a.editedAxis,r=a.updateData;e!==n&&(console.log(Object(h.a)({},n,e)),r(Object(h.a)({},n,e)))},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props,a=e.mode,t=e.editedAxis,n=e.loadData,i=e.updateData,o=e.onClose;return r.a.createElement("div",{className:"LoadDataDialog"},"edit"===a?r.a.createElement(Ve,{mode:a,onClose:o,updateData:i,editedAxis:t,onChange:this.onUpdateFields}):r.a.createElement(qe,{mode:a,onClose:o,loadData:n}))}}]),a}(n.Component),Ke=function(e){function a(){return Object(c.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.onClose,a=this.props.form.getFieldDecorator;return r.a.createElement(_.a,{layout:"vertical",onSubmit:this.handleSubmit,hideRequiredMark:!0,style:{height:"100%",display:"flex",flexDirection:"column"}},r.a.createElement("div",{className:"LoadDataDialogInner"},r.a.createElement(_.a.Item,{label:"Opis osi"},a("description",{validateTrigger:["onChange","onBlur"],rules:[{required:!0,message:"Prosz\u0119 poda\u0107 nazw\u0119 osi, kt\xf3ra pozwoli na identyfikacj\u0119"},{message:"Wymagana nazwa o d\u0142ugo\u015bci od 2 do 20 znak\xf3w",whitespace:!0,min:2,max:20}],initialValue:"Czas"})(r.a.createElement(B.a,{placeholder:"Opis osi"}))),r.a.createElement(_.a.Item,null,a("showDescription",{initialValue:!0,valuePropName:"checked"})(r.a.createElement(W.a,null,"Poka\u017c nazw\u0119 osi na wykresie"))),r.a.createElement(V.a,{gutter:24},r.a.createElement(q.a,{span:12},r.a.createElement(_.a.Item,{label:"Kolor osi"},a("color",{validateTrigger:["onChange"],rules:[{required:!0,message:"Wybierz kolor osi"}],initialValue:"black"})(r.a.createElement(Ee,null))))),r.a.createElement(_.a.Item,{label:"Zarz\u0105dzanie zakresem czasu"},r.a.createElement(V.a,{gutter:24},r.a.createElement(q.a,{span:12},r.a.createElement(_.a.Item,{label:"Minimalna ilo\u015b\u0107 dat na osi",help:"Wy\u015bwietlna liczba mo\u017ce by\u0107 mniejsza dla kr\xf3tkich okres\xf3w"},a("datesNumber",{initialValue:5,rules:[{required:!0,type:"number",min:2,max:8,message:"Wybierz liczb\u0119 z zakresu od 2 do 8"}]})(r.a.createElement(De.a,{className:"AutoInputNumber",min:2,max:8,step:1,precision:0})))),r.a.createElement(q.a,{span:12},r.a.createElement(_.a.Item,null,a("withTime",{initialValue:!1,valuePropName:"checked"})(r.a.createElement(W.a,null,"Poka\u017c godzin\u0119"))))))),r.a.createElement("div",{className:"LoadDataDialogSubmit"},r.a.createElement(Y.a,{type:"primary",icon:"redo",onClick:e},"Aktualizuj")))}}]),a}(n.Component),_e={description:[function(e){return e.length>=2},function(e){return e.length<=20}],datesNumber:[function(e){return e>=2},function(e){return e<=8}]},Be=function(e){return Object.keys(e).reduce(function(a,t){return a&&function(e,a){return!_e[e]||_e[e].reduce(function(e,t){return e&&t(a)},!0)}(t,e[t].value)},!0)},Ye=_.a.create({name:"edit_xaxis_form",onFieldsChange:function(e,a){if(!Be(a))return console.warn("Form not valid, abort update");e.onChange(a)},mapPropsToFields:function(e){return Object.keys(e.editedAxis).reduce(function(a,t){return Object(h.a)({},a,Object(g.a)({},t,_.a.createFormField(Object(h.a)({},e.editedAxis[t]))))},{})}})(Ke),Xe=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).onUpdateFields=function(e){var a=t.props,n=a.editedAxis,r=a.updateData;e!==n&&(console.log(Object(h.a)({},n,e)),r(Object(h.a)({},n,e)))},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props,a=e.editedAxis,t=e.updateData,n=e.onClose;return r.a.createElement("div",{className:"LoadDataDialog"},r.a.createElement(Ye,{editedAxis:a,onClose:n,updateData:t,onChange:this.onUpdateFields}))}}]),a}(n.Component),Ze=t(792),He=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).handleReset=function(){t.props.form.resetFields(),t.props.form.validateFields()},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.form,a=e.getFieldDecorator,t=e.getFieldValue;return r.a.createElement(_.a,{layout:"vertical",hideRequiredMark:!0,style:{height:"100%",display:"flex",flexDirection:"column"}},r.a.createElement("div",{className:"LoadDataDialogInner"},r.a.createElement(_.a.Item,{label:"Tytu\u0142 wykresu"},a("title",{initialValue:""})(r.a.createElement(B.a,{placeholder:"Tytu\u0142 wykresu"}))),r.a.createElement(_.a.Item,null,a("showTitle",{initialValue:!1,valuePropName:"checked"})(r.a.createElement(W.a,null,"Poka\u017c tytu\u0142 na wykresie"))),r.a.createElement(_.a.Item,null,a("showLegend",{initialValue:!1,valuePropName:"checked"})(r.a.createElement(W.a,null,"Poka\u017c legend\u0119 na wykresie"))),r.a.createElement(_.a.Item,{label:"Szeroko\u015b\u0107 (".concat(t("width"),"%)")},a("width",{initialValue:100,rules:[{required:!0,type:"number",min:10,max:100,message:"Wybierz liczb\u0119 z zakresu od 10 do 100"}]})(r.a.createElement(Ze.a,{step:5,min:10,max:100}))),r.a.createElement(_.a.Item,{label:"Wysoko\u015b\u0107 (".concat(t("height"),"%)")},a("height",{initialValue:60,rules:[{required:!0,type:"number",min:10,step:5,max:100,message:"Wybierz liczb\u0119 z zakresu od 10 do 100"}]})(r.a.createElement(Ze.a,{step:5,min:10,max:100})))),r.a.createElement("div",{className:"LoadDataDialogSubmit"},r.a.createElement(Y.a,{onClick:this.handleReset,style:{marginRight:16}},"Zresetuj"),r.a.createElement(Y.a,{type:"primary",onClick:this.props.onClose},"Zako\u0144cz")))}}]),a}(n.Component),Je={width:[function(e){return e>=10},function(e){return e<=100}],height:[function(e){return e>=10},function(e){return e<=100}]},Ge=function(e){return Object.keys(e).reduce(function(a,t){return a&&function(e,a){return!Je[e]||Je[e].reduce(function(e,t){return e&&t(a)},!0)}(t,e[t].value)},!0)},Qe=_.a.create({name:"edit_settings_form",onFieldsChange:function(e,a){if(!Ge(a))return console.warn("Form not valid, abort update");e.onChange(a)},mapPropsToFields:function(e){return Object.keys(e.settings).reduce(function(a,t){return Object(h.a)({},a,Object(g.a)({},t,_.a.createFormField(Object(h.a)({},e.settings[t]))))},{})}})(He),$e=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).onUpdateFields=function(e){var a=t.props,n=a.settings,r=a.updateData;e!==n&&(console.log(Object(h.a)({},n,e)),r(Object(h.a)({},n,e)))},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props,a=e.settings,t=e.onClose;return r.a.createElement("div",{className:"LoadDataDialog"},r.a.createElement(Qe,{onClose:t,settings:a,onChange:this.onUpdateFields}))}}]),a}(n.Component),ea=function(e){var a=Object(E.a)({},e);return r.a.createElement("div",Object.assign({className:"MiddleWrapper"},a))},aa=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={openedDialogSettings:!1,openedDialogXAxis:!1,openedDialogAddAxis:!1,openedDialogEditAxis:!1,editedAxis:null},t.onCloseDialogSettings=function(){t.setState({openedDialogSettings:!1})},t.onCloseDialogXAxis=function(){t.setState({openedDialogXAxis:!1})},t.onCloseDialogAddAxis=function(){t.setState({openedDialogAddAxis:!1})},t.onCloseDialogEditAxis=function(){t.setState({openedDialogEditAxis:!1,editedAxis:null})},t.openDialogSettings=function(){t.setState({openedDialogSettings:!0})},t.openDialogXAxis=function(){t.setState({openedDialogXAxis:!0})},t.openDialogAddAxis=function(){t.setState({openedDialogAddAxis:!0})},t.openDialogEditAxis=function(e){t.setState({openedDialogEditAxis:!0,editedAxis:e})},t.newIndex=function(){return Object.keys(t.props.config.yAxises).reduce(function(e,a){return Math.max(e,a)},-1)+1},t.addAxis=function(e){var a=t.props,n=a.config,r=a.update,i=Object(h.a)({},n);i.yAxises=Object(h.a)({},i.yAxises,Object(g.a)({},t.newIndex(),e)),r(i)},t.updateAxis=function(e,a){var n=t.props,r=n.config,i=n.update,o=Object(h.a)({},r);o.yAxises[a]=Object(h.a)({},o.yAxises[a],e),i(o)},t.canRemove=function(e){return!Object(y.find)(Object.keys(t.props.usedData),function(a){return t.props.usedData[a].fields.axis.value===e})},t.removeAxis=function(e){var a=t.props,n=a.config,r=a.update,i=Object(h.a)({},n);delete i.yAxises[e],r(i)},t.updateSettings=function(e){var a=t.props,n=a.config,r=a.update,i=Object(h.a)({},n);i.settings=Object(h.a)({},i.settings,e),r(i)},t.updateXAxis=function(e){var a=t.props,n=a.config,r=a.update,i=Object(h.a)({},n);i.xAxis=Object(h.a)({},i.xAxis,e),r(i)},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this,a=this.props.config,t=this.state.editedAxis;return r.a.createElement("div",{className:"LoadData"},r.a.createElement(V.a,{type:"flex",align:"middle"},r.a.createElement(q.a,{span:16},"Konfiguracja og\xf3lna wykresu"),r.a.createElement(q.a,{span:4},r.a.createElement(ea,null,r.a.createElement(O.a,{placement:"top",title:"Edytuj wygl\u0105d wykresu"},r.a.createElement(Y.a,{type:"primary",shape:"circle",icon:"setting",onClick:this.openDialogSettings}))))),r.a.createElement(V.a,null,r.a.createElement("div",{className:"ConfigChartSection"},"O\u015b pozioma")),r.a.createElement(V.a,{type:"flex",align:"middle"},r.a.createElement(q.a,{span:16},"O\u015b pozioma (czasu)"),r.a.createElement(q.a,{span:4},r.a.createElement(ea,null,r.a.createElement(O.a,{placement:"top",title:"Edytuj o\u015b czasu"},r.a.createElement(Y.a,{shape:"circle",icon:"setting",onClick:this.openDialogXAxis}))))),r.a.createElement(V.a,null,r.a.createElement("div",{className:"ConfigChartSection"},"Osie pionowe")),Object.keys(a.yAxises).map(function(t,n,i){return r.a.createElement(V.a,{key:t,type:"flex",align:"middle"},r.a.createElement(q.a,{span:16},a.yAxises[t].description.value),r.a.createElement(q.a,{span:4},r.a.createElement(ea,null,r.a.createElement(O.a,{placement:"top",title:"Ustawienia"},r.a.createElement(Y.a,{shape:"circle",icon:"setting",onClick:function(){return e.openDialogEditAxis(t)}})))),r.a.createElement(q.a,{span:4},r.a.createElement(ea,null,r.a.createElement(k,{title:"Czy chcesz usun\u0105\u0107 o\u015b odniesienia?",remove:"Usu\u0144 o\u015b",reason:"Nie mo\u017cna usun\u0105\u0107, o\u015b jest u\u017cywana.",canRemove:e.canRemove(t),onConfirm:function(){return e.removeAxis(t)}},r.a.createElement(Y.a,{disabled:!e.canRemove(t),shape:"circle",icon:"delete"})))))}),r.a.createElement(V.a,{type:"flex",align:"middle"},r.a.createElement(q.a,{span:16},"Dodaj o\u015b odniesienia"),r.a.createElement(q.a,{span:4}),r.a.createElement(q.a,{span:4},r.a.createElement(ea,null,r.a.createElement(O.a,{placement:"bottom",title:"Dodaj o\u015b odniesienia"},r.a.createElement(Y.a,{type:"primary",shape:"circle",icon:"plus",onClick:this.openDialogAddAxis}))))),r.a.createElement(he.a,{title:"Edytuj spos\xf3b prezentacji wykresu",placement:"left",onClose:this.onCloseDialogSettings,visible:this.state.openedDialogSettings,width:480,bodyStyle:{flex:1}},r.a.createElement($e,{onClose:this.onCloseDialogSettings,settings:a.settings,updateData:this.updateSettings})),r.a.createElement(he.a,{title:"Edytuj o\u015b czasu",placement:"left",onClose:this.onCloseDialogXAxis,visible:this.state.openedDialogXAxis,width:480,bodyStyle:{flex:1}},r.a.createElement(Xe,{onClose:this.onCloseDialogXAxis,editedAxis:a.xAxis,updateData:this.updateXAxis})),r.a.createElement(he.a,{title:"Dodaj now\u0105 o\u015b",placement:"left",onClose:this.onCloseDialogAddAxis,visible:this.state.openedDialogAddAxis,width:480,bodyStyle:{flex:1}},r.a.createElement(Ue,{mode:"load",onClose:this.onCloseDialogAddAxis,settings:a.settings,loadData:this.addAxis})),null!==this.state.editedAxis&&r.a.createElement(he.a,{title:"Edytuj ustawienia osi",placement:"left",onClose:this.onCloseDialogEditAxis,visible:this.state.openedDialogEditAxis,width:480,bodyStyle:{flex:1}},r.a.createElement(Ue,{mode:"edit",onClose:this.onCloseDialogEditAxis,updateData:function(a){return e.updateAxis(a,t)},editedAxis:a.yAxises[t]})))}}]),a}(n.Component),ta=t(791),na=ta.a.Panel,ra=function(e){var a=e.loadedData,t=e.usedData,n=0!==Object.getOwnPropertyNames(a).length;return{isActiveUsedData:n,isActiveChartConfig:n&&0!==Object.getOwnPropertyNames(t).length}},ia=function(e){function a(e){var t;Object(c.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).changeActiveKey=function(e){t.setState({activeKey:e})},t.update=function(e,a){t.setState(Object(g.a)({},e,a))},t.updateLoadedData=function(e){return t.props.update("loadedData",e)},t.updateUsedData=function(e){return t.props.update("usedData",e)},t.updateChartConfig=function(e){return t.props.update("chartConfig",e)};var n=ra(e),r=n.isActiveUsedData,i=n.isActiveChartConfig,o=["loadedData"];return r&&o.push("usedData"),i&&o.push("chartConfig"),t.state={activeKey:o},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){var a=[],t=[],n=ra(this.props),r=ra(e);if(!r.isActiveUsedData&&n.isActiveUsedData&&a.push("usedData"),r.isActiveUsedData&&!n.isActiveUsedData&&t.push("usedData"),!r.isActiveChartConfig&&n.isActiveChartConfig&&a.push("chartConfig"),r.isActiveChartConfig&&!n.isActiveChartConfig&&t.push("chartConfig"),a.length+t.length>0){var i=v.a.union(Object(b.a)(this.state.activeKey),a);this.setState({activeKey:v.a.filter(i,function(e){return!t.includes(e)})})}}},{key:"render",value:function(){var e=this.props,a=e.loadedData,t=e.usedData,n=e.chartConfig,i=ra(this.props),o=i.isActiveUsedData,c=i.isActiveChartConfig;return r.a.createElement("div",{className:"ChartSetup"},r.a.createElement(ta.a,{activeKey:this.state.activeKey,onChange:this.changeActiveKey,bordered:!1},r.a.createElement(na,{header:"Pobranie danych",key:"loadedData"},r.a.createElement(ge,{update:this.updateLoadedData,usedData:t,data:a})),r.a.createElement(na,{disabled:!o,header:"Wyb\xf3r wy\u015bwietlanych danych",key:"usedData"},r.a.createElement(Ie,{update:this.updateUsedData,data:t,loadedData:a,config:n})),r.a.createElement(na,{disabled:!c,header:"Konfiguracja wykresu",key:"chartConfig"},r.a.createElement(aa,{update:this.updateChartConfig,usedData:t,config:n}))))}}]),a}(n.Component),oa=t(93),ca=[{limit:2,span:.5},{limit:4,span:1},{limit:7.5,span:2},{limit:10,span:2.5}],la=function(e){for(var a=e.min,t=e.max,n=function(e){var a=e.min,t=e.max-a,n=Math.max(Math.floor(Math.log10(t)),-1);return Math.pow(10,n)}({min:a,max:t}),r=(t-a)/n,i=0;r>ca[i].limit&&i+1<ca.length;)i++;return n*ca[i].span},sa=function(e,a){var t=e.min;return a*Math.floor(t/a)},ua=function(e,a){var t=e.max;return a*Math.ceil(t/a)},da=sa,ma=ua,pa=function(e,a){return"auto"===e?a:Number.parseFloat(e)},fa=function(e,a){var t=e.min,n=e.max;return Object(y.range)(t,n+a/2,a)},ha=function(e,a,t){for(var n=e.dateFrom,r=e.dateTo,i=z.a.unix(n/1e3),o=z.a.unix(r/1e3),c=z.a.duration(o.diff(i)),l=t?c.asHours():c.asDays(),s=Math.min(l,a-1),u=Math.floor(l/s),d=[],m=z()(i);!m.isAfter(o);)d.push(m.format("x")),m.add(u,t?"hours":"day");return d},ba=function(e,a){var t=a.rangeFrom,n=a.rangeTo,r=a.rangeSpan,i=function(e){return{min:Math.min.apply(Math,Object(b.a)(e)),max:Math.max.apply(Math,Object(b.a)(e))}}(e),o=i.min,c=i.max,l={min:pa(t,o),max:pa(n,c)},s=pa(r,la(l));return{domainMin:pa(t,da(l,s)),domainMax:pa(n,ma(l,s)),ticks:fa({min:sa(l,s),max:ua(l,s)},s)}},ga=(t(704),function(e){var a=e.description,t=e.side,n=e.unit,i=e.color,o=Object(j.a)(e,["description","side","unit","color"]).viewBox,c=o.x,l=o.y,s=o.height,u=o.width,d="right"===t?c+u-20:c;return r.a.createElement("g",{transform:"translate(".concat(d,", ").concat(l,")")},r.a.createElement("foreignObject",{width:20,height:s},r.a.createElement("div",{className:"CustomLabel",style:{color:i}},r.a.createElement("div",{className:"CustomLabelInner"},r.a.createElement("div",{className:"CustomLabelRotate"},a,n&&" [".concat(n,"]"))))))}),ya=function(e){var a=e.description,t=e.color,n=Object(j.a)(e,["description","color"]).viewBox,i=n.x,o=n.y,c=n.height,l=n.width,s=o+c-20;return r.a.createElement("g",{transform:"translate(".concat(i,", ").concat(s,")")},r.a.createElement("foreignObject",{height:20,width:l},r.a.createElement("div",{className:"CustomLabel",style:{color:t}},r.a.createElement("div",{className:"CustomLabelInner"},r.a.createElement("div",{className:"CustomLabelTransform"},a)))))},va=function(e){return z.a.unix(e/1e3).format("YYYY-MM-DD")},Ea=function(e){return z.a.unix(e/1e3).format("HH:mm")},ja=function(e){function a(){return Object(c.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props,a=e.x,t=e.y,n=e.payload,i=e.withTime;return r.a.createElement("g",{transform:"translate(".concat(a,",").concat(t,")")},r.a.createElement("text",{x:0,y:0,dy:16,textAnchor:"middle",fill:"#666"},va(n.value)),i&&r.a.createElement("text",{x:0,y:16,dy:16,textAnchor:"middle",fill:"#666"},Ea(n.value)))}}]),a}(n.PureComponent),Oa=function(e,a){return 30+(e?20:0)+(a?16:0)},Da=function(e){return e.split("-")[0]},ka=function(e,a){return"REG_".concat(a,"_").concat(Ca(e))},xa=function(e,a){return"".concat(Da(e),"-").concat(ka(e,a))},wa=function(e,a){var t=Da(a);return Object(y.find)(e,function(e){return e.id===t}).data},Ca=function(e){return e.split("-").pop()},Aa={activeDot:!1,lineWidth:1,dashed:!0,dashSpacing:5,dashLength:5},za=function(e){var a,t=e.yAxises,n=e.dataSet,i=e.description,o=(e.showDescription,e.lineId),c=e.axis,l=e.dashed,s=e.dashSpacing,u=e.dashLength,d=e.dataSource,m=e.lineColor,p=e.lineWidth,f=Object(j.a)(e,["yAxises","dataSet","description","showDescription","lineId","axis","dashed","dashSpacing","dashLength","dataSource","lineColor","lineWidth"]);return r.a.createElement(oa.c,Object.assign({unit:(a=Object(y.find)(t,function(e){return e.id===c}),a&&a.unit),name:i,lineId:o,isAnimationActive:!1,strokeDasharray:l?"".concat(u," ").concat(s):void 0,strokeWidth:p,type:"monotone",stroke:m,dot:!1,activeDot:!0,data:wa(n,d),dataKey:Ca(d),yAxisId:c},f))},Sa=function(e){var a=e.active,t=e.payload,n=e.label,i=e.withTime;Object(j.a)(e,["active","payload","label","withTime"]);return a?r.a.createElement("div",{className:"CustomTooltip"},r.a.createElement("div",{className:"CTTime"},"".concat(va(n)," ").concat(i?"".concat(Ea(n)):"")),Object(y.filter)(t,function(e){return!e.dataKey.startsWith("REG_")}).map(function(e,a){return r.a.createElement("div",{className:"CTProperty",key:a},r.a.createElement("div",{className:"CTFeature"},e.name),r.a.createElement("div",{className:"CTValue"},"".concat(e.payload[e.dataKey]," ").concat(e.unit)))})):null},Na=function(e,a,t){return Object(y.filter)(a,function(e){return e.axis===t}).reduce(function(a,t){return[].concat(Object(b.a)(a),Object(b.a)(wa(e,t.dataSource).map(function(e){return Number.parseFloat(e[Ca(t.dataSource)])})))},[])},Fa=function(e,a){return a.reduce(function(a,t){return[].concat(Object(b.a)(a),Object(b.a)(wa(e,t.dataSource).map(function(e){return Number.parseFloat(e.time)})))},[])},Ta=function(e,a){return function(e,a){var t=function(e,a){return e.reduce(function(e,t,n){var r=e.sx2,i=e.sx,o=e.sxy,c=e.sy;return{sx2:r+t*t,sx:i+t,sxy:o+a[n]*t,sy:c+a[n]}},{sx2:0,sx:0,sxy:0,sy:0})}(e,a),n=t.sx,r=t.sy,i=t.sxy,o=t.sx2,c=e.length,l=(i*c-n*r)/(o*c-n*n);return{a:l,b:(r-l*n)/c}}(e.map(function(e){return parseFloat(e.time)}),e.map(function(e){return parseFloat(e[Ca(a)])}))},Ia=function(e,a,t){var n=Ta(e,a),r=n.a,i=n.b;return e.map(function(e){return Object(h.a)({},e,Object(g.a)({},ka(a,t),r*e.time+i))})},Pa=function(e){var a=e.data,t=e.usedData,n=e.withTime,i=Object(y.filter)(t,function(e){return e.showRegresion}).map(function(e){var t=e.dataSource,n=(e.id,e.description),r=Da(t),i=a.findIndex(function(e){return e.id===r}),o=Ta(a[i].data,t),c=o.a,l=o.b;return{description:n,a:c,begin:a[i].data[0].time,b:l+c*a[i].data[0].time}});return i.length>0?r.a.createElement("div",{className:"RegresionSummary"},r.a.createElement("div",{className:"Title"},"Regresja liniowa"),r.a.createElement(V.a,{gutter:16},i.map(function(e,a){return r.a.createElement(q.a,{span:12,key:a},r.a.createElement("div",{className:"RegresionValue"},r.a.createElement("div",{className:"CTProperty"},r.a.createElement("div",{className:"CTFeature"},"\u0179r\xf3d\u0142o danych"),r.a.createElement("div",{className:"CTValue"},e.description)),r.a.createElement("div",{className:"CTProperty"},r.a.createElement("div",{className:"CTFeature"},"Wz\xf3r"),r.a.createElement("div",{className:"CTValue"},"( ".concat((e.a*(n?36e5:864e5)).toExponential(4)," ) x czas + ").concat(e.b.toFixed(2)))),r.a.createElement("div",{className:"CTProperty"},r.a.createElement("div",{className:"CTFeature"},"Jednostka"),r.a.createElement("div",{className:"CTValue"},"Czas liczony w ".concat(n?"godzinach":"dobach"))),r.a.createElement("div",{className:"CTProperty"},r.a.createElement("div",{className:"CTFeature"},"Pocz\u0105tek (czas = 0)"),r.a.createElement("div",{className:"CTValue"},z.a.unix(e.begin/1e3).format(n?"YYYY-MM-DD HH:mm":"YYYY-MM-DD")))))}))):null},La=function(e){function a(){return Object(c.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){console.log("passed to chart",this.props);var e=this.props,a=e.stopInteractive,t=e.usedData,n=e.data,i=e.chartConfig,o=i.xAxis,c=i.settings,l=i.yAxises,s=i.settings,u=s.height,d=s.width;return function(e,a){a.filter(function(e){return e.showRegresion}).forEach(function(t){var n=t.dataSource,r=t.id,i=Da(n),o=e.findIndex(function(e){return e.id===i});console.log("reg",o,e,a),e[o]=Object(h.a)({},e[o],{data:Ia(e[o].data,n,r)})})}(n,t),console.log("after regresion",n),r.a.createElement("div",{className:"LineChart"},r.a.createElement("div",{className:"InnerChart",style:{width:"".concat(d,"%")}},c.showTitle&&r.a.createElement("div",{className:"ChartTitle"},c.title),r.a.createElement(oa.e,{width:"100%",aspect:d/u},r.a.createElement(oa.d,{data:n},!a&&r.a.createElement(oa.f,{content:r.a.createElement(Sa,{withTime:o.withTime})}),c.showLegend&&r.a.createElement(oa.b,{height:36,verticalAlign:"top",paylodUniqBy:function(e){return e.payload.lineId}}),r.a.createElement(oa.a,{vertical:!1,strokeDasharray:"5 5"}),function(e){var a=e.description,t=e.showDescription,n=e.color,i=e.withTime,o=e.datesNumber,c=e.timeSpread,l=Object(j.a)(e,["description","showDescription","color","withTime","datesNumber","timeSpread"]);return r.a.createElement(oa.g,Object.assign({allowDataOverflow:!0,padding:{left:10,right:30},tick:r.a.createElement(ja,{withTime:i}),interval:0,dataKey:"time",type:"number",stroke:n,height:Oa(t,i),domain:["dataMin","dataMax"],ticks:ha({dateFrom:Math.min.apply(Math,Object(b.a)(c)),dateTo:Math.max.apply(Math,Object(b.a)(c))},o,i),label:t?function(e){return r.a.createElement(ya,Object.assign({description:a,color:n},e))}:void 0},l))}(Object(h.a)({},o,{timeSpread:Fa(n,t)})),l.map(function(e){return function(e){var a=e.description,t=e.showDescription,n=e.dataSpread,i=e.id,o=e.color,c=e.showAxis,l=e.side,s=e.unit,u=e.rangeFrom,d=e.rangeTo,m=e.rangeSpan,p=Object(j.a)(e,["description","showDescription","dataSpread","id","color","showAxis","side","unit","rangeFrom","rangeTo","rangeSpan"]),f=ba(n,{rangeFrom:u,rangeTo:d,rangeSpan:m}),h=f.domainMin,b=f.domainMax,g=f.ticks;return r.a.createElement(oa.h,Object.assign({allowDataOverflow:!0,yAxisId:i,hide:!c,orientation:l,stroke:o,type:"number",width:t?60:45,domain:[h,b],ticks:g,label:t?function(e){return r.a.createElement(ga,Object.assign({description:a,color:o,unit:s,side:l},e))}:void 0},p))}(Object(h.a)({},e,{key:"yAxis-".concat(e.id),dataSpread:Na(n,t,e.id)}))}),Object(y.filter)(t,function(e){return e.showRegresion}).map(function(e){var a=e.id,t=e.dataSource,r=Object(j.a)(e,["id","dataSource"]);return za(Object(h.a)({yAxises:l},r,{dataSource:xa(t,a),lineId:a,regresion:!0,dataSet:n,key:"regresionLine-".concat(a)},Aa))}),t.map(function(e){var a=e.id,t=Object(j.a)(e,["id"]);return za(Object(h.a)({yAxises:l},t,{lineId:a,dataSet:n,key:"usedData-".concat(a)}))})))),r.a.createElement(Pa,{data:n,usedData:t,withTime:o.withTime}))}}]),a}(n.Component),Ma=t(439),Ra={settings:{title:{value:""},showTitle:{value:!1},showLegend:{value:!1},height:{value:60},width:{value:100}},xAxis:{description:{value:"Czas"},showDescription:{value:!0},color:{value:"black"},datesNumber:{value:5},withTime:{value:!1}},yAxises:{0:{color:{value:"black"},showAxis:{value:!0},side:{value:"left"},description:{value:"O\u015b Y"},showDescription:{value:!1},unit:{value:""},rangeFrom:{value:"auto"},rangeTo:{value:"auto"},rangeSpan:{value:"auto"}}}},Wa=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={loadedData:{},usedData:{},chartConfig:Object.assign({},Ra)},t.update=function(e,a){console.log("UPDATING: ".concat(e),a),t.setState(Object(g.a)({},e,a))},t.mapSetupToChart=function(e){var a=e.loadedData,t=e.usedData,n=e.chartConfig;return console.log("loadedData",a),console.log("usedData",t),console.log("chartConfig",n),{usedData:Object.keys(t).reduce(function(e,a){return[].concat(Object(b.a)(e),[Object.keys(t[a].fields).reduce(function(e,n){return Object(h.a)({},e,Object(g.a)({},n,t[a].fields[n].value))},{id:a})])},[]),chartConfig:{settings:Object.keys(n.settings).reduce(function(e,a){return Object(h.a)({},e,Object(g.a)({},a,n.settings[a].value))},{}),xAxis:Object.keys(n.xAxis).reduce(function(e,a){return Object(h.a)({},e,Object(g.a)({},a,n.xAxis[a].value))},{}),yAxises:Object.keys(n.yAxises).reduce(function(e,a){return[].concat(Object(b.a)(e),[Object.keys(n.yAxises[a]).reduce(function(e,t){return Object(h.a)({},e,Object(g.a)({},t,n.yAxises[a][t].value))},{id:a})])},[])},data:Object.keys(a).reduce(function(e,t){return[].concat(Object(b.a)(e),[{id:t,data:a[t].data}])},[])}},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.mapSetupToChart(this.state);return r.a.createElement("div",{className:"ChartCreate"},r.a.createElement(V.a,null,r.a.createElement(q.a,{span:8},r.a.createElement(ia,Object.assign({update:this.update},this.state))),r.a.createElement(q.a,{span:16},r.a.createElement("div",{className:"ChartPresentation"},Object.keys(e.usedData).length>0?r.a.createElement(La,Object.assign({stopInteractive:!1},e)):r.a.createElement(Ma.a,{image:"https://gw.alipayobjects.com/mdn/miniapp_social/afts/img/A*pevERLJC9v0AAAAAAAAAAABjAQAAAQ/original",description:r.a.createElement("span",null,"Tutaj powstanie wykres",r.a.createElement("br",null),"Pobierz dane i wybierz ich form\u0119 prezentacji")})))))}}]),a}(n.Component),Va=t(799),qa=t(341),Ua=t.n(qa);t(706);z.a.locale("pl");var Ka=function(e){function a(){return Object(c.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){this.props.classes;return r.a.createElement(Va.a,{locale:Ua.a},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"TestField"},r.a.createElement(Wa,null))))}}]),a}(n.Component),_a=Object(m.withStyles)({root:{flexDirection:"row"},menuTab:{maxWidth:"240px",textDecoration:"unset"},button:{width:"100%",height:"100%",color:"white",padding:"4px 16px"}})(Ka);o.a.render(r.a.createElement(_a,null),document.getElementById("root"))}},[[370,2,1]]]);
//# sourceMappingURL=main.aa122f50.chunk.js.map